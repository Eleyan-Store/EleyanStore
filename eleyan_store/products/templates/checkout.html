<!-- checkout.html -->
{% extends 'base.html' %}

{% block title %}Checkout - Eleyan Store{% endblock %}

{% block content %}
<h2>Checkout</h2>
<!-- Display order summary and collect necessary information for checkout -->
<ul>
    {% for item in user.userprofile.cart.orderitem_set.all %}
    <li>{{ item.product.name }} - Quantity: {{ item.quantity }}</li>
    {% endfor %}
</ul>
<p>Total: {{ user.userprofile.cart.total }}</p>
<form method="post">
    {% csrf_token %}
    <!-- Add form fields for address, communication method, and any other necessary details -->
    <label for="address">Address:</label>
    <select name="address">
        {% for address in user.userprofile.useraddress_set.all %}
        <option value="{{ address.id }}">{{ address.address_state }}, {{ address.address_city }},
            {{ address.address_street }}</option>
        {% endfor %}
    </select>
    <label for="communication_method">Communication Method:</label>
    <select name="communication_method">
        {% for method in communication_methods %}
        <option value="{{ method }}">{{ method }}</option>
        {% endfor %}
    </select>
    <!-- Add more fields as needed -->
    <button type="submit">Place Order</button>
</form>
{% endblock %}